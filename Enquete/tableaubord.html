<!DOCTYPE html>
<html>
<head>
	<title></title>
  <meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="../css/style.css">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script> 
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>  
</head>
<body id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
          <div class="container">
              <a class="navbar-brand" href="../#page-top"><img src="../Images/logo-non-bg.png" alt="Logo de notre projet" /></a>
          
              <div class="collapse navbar-collapse" id="navbarResponsive">
                  <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                      <li class="nav-item"><a class="nav-link" href="../#services">Qui somme-nous ?</a></li>
                      <li class="nav-item"><a class="nav-link" href="../#portfolio">Nos Projets</a></li>
                      <li class="nav-item"><a class="nav-link" href="../#contact">Contact</a></li>
                  </ul>
              </div>
          </div>
  </nav>
  <!-- Masthead-->
  <header class="masthead">
      <div class="container">
  
          <div class="masthead-heading text-uppercase"> kitcheeze </div>
          <div class="masthead-subheading">  
  
              Faites vous enfin livrer les plats maison dont vous r√©vez
          </div>
      </div>
  </header>   
  <center>
  
    <br>
<div id="title" style="font-weight: bold; font-size: 50px;">Tableau de bords</div>

<br>
      <div class="chart_container2" id="chart2">
          <canvas id="myChart2"></canvas>
      </div>
<script>
  
function makeChart2(Participants) {
  // Participants is an array of objects where each object is something like:
  // {
  //   "Name": "Steffi Graf",
  //   "ages": "377",
  //   "Gender": "Female"
  // }
  var ParticipantLabels = Participants.map(function(d) {return d._age});
  var moyenneData = Participants.map(function(d) {return +d.moyenne});
  var ParticipantColors = Participants.map(function(d) {return d.genre === 'Homme' ? '#F15F36' : '#19A0AA';});



  var ParticipantLabels = Participants.map(function(d) {return d.preferences});
  var moyenneData = Participants.map(function(d) {return +d.satut});



  var chart = new Chart('myChart2', {
    type: 'line',
    options: {
      maintainAspectRatio: false,
      legend: {
        display: true
      },
      scales: {
        xAxes: [
          {
               
            
        
                scaleLabel: {
              display: true,
              labelString: 'La moyenne par age et par preferences culinaires' ,
              fontSize: 40
            }
          }
        ]
      }
    },
    data: {
      labels: ParticipantLabels,
      datasets: [
        {
          data: moyenneData,
          backgroundColor: ParticipantColors
        }
      ]
    }
  })
}

// Request data using D3
d3.csv("http://localhost/formulaire_js/formulaireJs/atp_wta.csv")
  .then(makeChart2);
</script>

<div id="legend">
  <div class="item age">Age</div>
  <div class="item homme">Homme</div>
  <div class="item femme">Femme</div>
  <div class="item preferences">Preferences culinaires</div>
  <div class="item statut">Statut</div>
</div>
<div class="allGraph">
<div id="chart-wrapper">
  <canvas id="chart" style="width: 400px;height: 200px;"></canvas>
</div>

<script type="text/javascript">
  Chart.defaults.global.defaultFontFamily = 'Roboto';
Chart.defaults.global.defaultFontColor = '#333';

function makeChart(Participants) {
  // Participants is an array of objects where each object is something like:
  // {
  //   "Name": "Steffi Graf",
  //   "ages": "377",
  //   "Gender": "Female"
  // }

  var ParticipantLabels = Participants.map(function(d) {return d._age});
  var agesData = Participants.map(function(d) {return +d.age});
  var ParticipantColors = Participants.map(function(d) {return d.genre === 'Homme' ? '#F15F36' : '#19A0AA';});


  var ParticipantLabels = Participants.map(function(d) {return d.preferences});
  var moyenneData = Participants.map(function(d) {return +d.satut});

  var chart = new Chart('chart', {
    type: 'horizontalBar',
    options: {
      maintainAspectRatio: false,
      legend: {
        display: true
      },
      scales: {
        xAxes: [
          {
            scaleLabel: {
              display: true,
              labelString: 'Age et genre des participants' ,
              fontSize: 40
            }
          }
        ]
      }
    },
    data: {
      labels: ParticipantLabels,
      datasets: [
        {
          data: agesData,
          backgroundColor: ParticipantColors
        }
      ]
    }
  })
}

// Request data using D3
d3.csv("http://localhost/formulaire_js/formulaireJs/atp_wta.csv")
  .then(makeChart);
</script>

<a class="btn btn-primary btn-xl text-uppercase" href="../#services">Retourner ver le site</a>

<br><br>
<!-- Footer-->
<section class="page-section" id="contact"> 
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>  
</section>

<footer class="footer py-4">
<div class="container">
    <div class="row align-items-center">
        <div class="col-lg-4 text-lg-start">Copyright &copy; Kitcheeze 2021</div>
        <div class="col-lg-4 my-3 my-lg-0">
            <a class="btn btn-dark btn-social mx-2" href="#!"><img src="../Images/Icones/facebook.png" width="30" height="30"></i></a>
            <a class="btn btn-dark btn-social mx-2" href="#!"><img src="../Images/Icones/instagram.png" width="40" height="40"></i></a>
            <a class="btn btn-dark btn-social mx-2" href="#!"><img src="../Images/Icones/twitter.png" width="30" height="30"></i></a>
        </div>
        <div class="col-lg-4 text-lg-end">
            <a class="link-dark text-decoration-none me-3" href="#!">Privacy Policy</a>
            <a class="link-dark text-decoration-none" href="#!">Terms of Use</a>
        </div>
    </div>
</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="../js/scripts.js"></script>
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<!-- * *                               SB Forms JS                               * *-->
<!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>
</html>