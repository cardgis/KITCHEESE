<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Exercice Js - Form Et Fonctions</h1>
    <p> 1 :-Ecrire une fonction qui reçoit une chaine et vérifie si elle figure dans un tableau de chaines.
        -Ecrire une fonction qui reçoit un nombre entier et retourne un tableau de chaines dont les éléments sont
        générés aléatoirement parmi un tableau déjà existant.
        La dimension du tableau retourné est égale au nombre entier reçu
        -Ecrire une fonction qui recoit une chaine et une lettre et retourne la chaine avec le nombre d'occurence de la
        lettre dans la chaine.
        -Essayer les fonctions via des formulaires.
    </p>
    <p>reçoit une chaine et vérifie si elle figure dans un tableau de chaines.</p>
    <script langage="JavaScript">
        function rechercher(mot, tabChaine) {
            trouve = false;
            for (let i = 0; i < tabChaine.length; i++) {
                if (mot == tabChaine[i]) {
                    trouve = true;
                    break;
                }
            }
            return trouve;

        }
        function traiter() {
            let tabChaine = document.getElementById("tab").value;
            let chaine = document.getElementById("chaine").value;
            let tab = tabChaine.split(";");
            if (rechercher(chaine, tab)) {
                document.write("la chaine existe.");
            }
            else {
                document.write("La chaine n'existe pas.");
            }
        }
        function genererAleatoirement(tab, nb) {
            var tabRes = [];
            if (nb > tab.length) {
                return tabRes;
            }
            for (i = 0; i < nb; i++) {
                tabRes[i] = tab[Math.floor(Math.random() * tab.length)];
            }
            return tabRes;
        }
        function traiter2() {
            var tabChaine = document.getElementById("tab2").value;
            var tab = tabChaine.split(";");
            var nb = document.getElementById("nb").value;
            var tabRes = genererAleatoirement(tab, nb);
            var chaine = "";
            for (i = 0; i < tabRes.length; i++) {
                chaine += tabRes[i] + ",";
            }
            document.write("Resultat " + chaine);
        }
        function occurence(lettre, chaine) {
            var cpt = 0;
            lettre = lettre.charAt(0);
            for (var i = 0; i < chaine.length; i++) {
                if (lettre == chaine.charAt(i)) {
                    cpt++
                }
            }
        }
        function traiter3() {
            var lettre = document.getElementById("lettre").value;
            var chaine = document.getElementById("chaine").value;
            document.write("nombre d'occurences : " + occurence(lettre, chaine));
        }
    </script>

    <div>
        <form method="post" onsubmit="traiter()">
            Tableau de chaine : <input type="text" name="tab" id="tab">
            Chaine à rechercher : <input type="text" name="chaine" id="chaine">
            <input type="submit" name="submit" value="Valider">

        </form>
    </div>
    <br>
    <br>
    <div>
    <form method="post" onsubmit="trait3()">
        donner une lettre : <input type="text" name="lettre" id="lettre">
        donner une chaine : <input type="text" name="chaine" id="chaine">
        <input type="submit" value="envoyer">
    </form>
    </div>
    <br>
    <br>
    <div>
        <form method="post" onsubmit="traiter2()">
            Tableau de chaine : <input type="text" name="tab" id="tab2">
            Nombre d'éléments à générer : <input type="number" name="nb" id="nb">
            <input type="submit" name="submit" value="Générer">



        </form>
    </div>

    <!-- <form method="post">
        <script language="JavaScript"></script>
        <script>
            function traiterNom() {
                var nom = document.getElementById("nom").value;
                nom = nom.toUpperCase();
                document.getElementById("nom").value = nom;

            }
            function traiterAge() {
                var age = document.getElementById("age").value;
                if (age < 18 || age > 100) {
                    alert("Vous êtes trop (ou trop peu) agé");
                }

            }
            function traiterPrenom() {
                var prenom = document.getElementById("prenom").value;
                var maj = prenom.toUpperCase().charAt(0);
                prenom = maj + prenom.substring(1);
                document.getElementById("prenom").value = prenom;
                document.getElementById("prenom").style.backgroundColor="green";
            }
            function traiterEmail() {
                var email = document.getElementById("email").value;
                var cpt1 = 0, cpt2=0;
                for (let i =0; i<email.length;i++){
                    if (email.charAt(i)=='@') {
                        cpt1++;
                    }
                    else if(email.charAt(i)=='.'){
                        cpt2++;
                    }
                }
                alert(cpt2);
                    if (cpt1 ==1 && cpt2>=1){
                        document.getElementById("email").style.backgroundColor="green";
                    }
                    else{
                        document.getElementById("email").style.backgroundColor="red";
                    }
                
                
            }





        </script>
        <label for="nom">Veuillez entrer votre Nom</label><input type="text" id="nom" onblur="traiterNom()">
        <br />
        <br />
        <label for="prenom">Veuillez entrer votre Prénom</label><input type="text" id="prenom" onblur="traiterPrenom()">
        <br />
        <br />
        <label for="email">Veuillez entrer votre adresse Email</label><input type="text" id="email"
            onblur="traiterEmail()">
        <br />
        <br />
        <label for="age">Veuillez entrer votre age</label><input type="number" id="age" onblur="traiterAge()">
        <br />
        <br />
        <label for="url">Veuillez entrer L'Url</label><input type="text" id="url">
        <br />
        <br />
        <label for="date">Veuillez entrer la date du jour</label><input type="text" id="date">
        <br />
        <br />
        <label for="valider"></label><input type="submit" id="valider">
        <br />
        <br />
        <label for="effacer"></label><input type="reset" id="effacer">

    </form> -->
</body>

</html>